generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Member {
  id         Int         @id @default(autoincrement())
  loginId    String      @unique(map: "IDX_46b7fab54bb0e16272371c06d9") @db.VarChar(255)
  credential String      @db.VarChar(255)
  VotingLog  VotingLog[]
}

model Star {
  id              Int         @id @default(autoincrement())
  name            String      @db.VarChar(255)
  profileImageUrl String      @db.VarChar(255)
  VotingLog       VotingLog[]
}

model Vote {
  id        Int         @id @default(autoincrement())
  name      String      @db.VarChar(255)
  startDt   DateTime    @db.DateTime(0)
  endDt     DateTime    @db.DateTime(0)
  VotingLog VotingLog[]
}

model VotingLog {
  id        Int      @id @default(autoincrement())
  alive     Int      @default(1) @db.TinyInt
  voted     DateTime @default(now()) @db.DateTime(6)
  modified  DateTime @default(now()) @db.DateTime(6)
  member_id Int?
  star_id   Int?
  vote_id   Int?
  Member    Member?  @relation(fields: [member_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b913b61dae38d608b01fc795e75")
  Star      Star?    @relation(fields: [star_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c6fde83e48ebed4abc9bd08ade6")
  Vote      Vote?    @relation(fields: [vote_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f3964b599e8c32765d795f741cb")

  @@index([member_id], map: "FK_b913b61dae38d608b01fc795e75")
  @@index([star_id], map: "FK_c6fde83e48ebed4abc9bd08ade6")
  @@index([vote_id], map: "FK_f3964b599e8c32765d795f741cb")
}
